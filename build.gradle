plugins {
    id "com.github.node-gradle.node" version "7.0.0"
}

task npmInstall(type: NpmTask) {
    description = 'Installs npm dependencies.'
    args = ['install']
}

task runUnitTests(type: NpmTask) {
    dependsOn npmInstall
    description = 'Runs the unit tests.'
    args = ['run', 'test']
}

task generateUnitTestsCoverageReport(type: NpmTask) {
    dependsOn npmInstall
    description = 'Generates the unit test coverage report.'
    args = ['run', 'testWithCoverage']
}

task runAPITests(type: NpmTask) {
    dependsOn npmInstall
    description = 'Runs the API tests.'
    args = ['run', 'test:api']
}

task generateAPITestsCoverageReport(type: NpmTask) {
    dependsOn npmInstall
    description = 'Generates the API test coverage report.'
    args = ['run', 'testWithCoverage']
}

task buildBackend(type: NpmTask) {
    description = 'Builds the backend services.'
    args = ['run', 'build']
}

task startBackend(type: NpmTask) {
    description = 'Starts the backend services.'
    args = ['run', 'start:dev']
}

task startFrontend(type: NpmTask) {
    description = 'Starts the frontend services.'
    args = ['run', 'start:public']
}